<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
                    xmlns:converters="clr-namespace:ChileSowing.Converters">

    <!-- Converters -->
    <converters:BooleanToStatusColorConverter x:Key="BooleanToStatusColorConverter"/>
    <converters:BooleanToProcessingStatusConverter x:Key="BooleanToProcessingStatusConverter"/>
    <converters:SkuValidationConverter x:Key="SkuValidationConverter"/>
    <converters:StringToLocalizedConverter x:Key="StringToLocalizedConverter"/>

    <!-- Color Resources -->
    <SolidColorBrush x:Key="SuccessColor" Color="#4CAF50"/>
    <SolidColorBrush x:Key="ErrorColor" Color="#F44336"/>
    <SolidColorBrush x:Key="WarningColor" Color="#FFC107"/>
    <SolidColorBrush x:Key="InfoColor" Color="#2196F3"/>
    <SolidColorBrush x:Key="DefaultChuteColor" Color="#FFFFFF"/>
    <SolidColorBrush x:Key="HighlightChuteColor" Color="#4CAF50"/>
    <SolidColorBrush x:Key="CardBorderColor" Color="#FFB0BEC5"/>
    
    <!-- Drop Shadow Effect -->
    <DropShadowEffect x:Key="CardDropShadowEffect" 
                      ShadowDepth="2" 
                      BlurRadius="8" 
                      Color="#FFCCCCCC" 
                      Opacity="0.3"/>

    <!-- Info Item Template -->
    <DataTemplate x:Key="InfoItemTemplate">
        <Border Margin="4" 
                Padding="8" 
                CornerRadius="4" 
                Background="{DynamicResource LayerFillColorDefaultBrush}"
                BorderBrush="{Binding StatusColor}"
                BorderThickness="1">
            <StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                    <ui:SymbolIcon Symbol="{Binding Icon}" Margin="0,0,4,0" />
                    <TextBlock Text="{Binding Label}" 
                               FontSize="12" 
                               Foreground="{DynamicResource TextFillColorSecondaryBrush}" />
                </StackPanel>
                <TextBlock>
                    <Run Text="{Binding Value, Mode=OneWay}" FontSize="16" FontWeight="SemiBold" />
                    <Run Text="{Binding Unit, Mode=OneWay}" 
                         FontSize="12" 
                         Foreground="{DynamicResource TextFillColorSecondaryBrush}" />
                </TextBlock>
                <TextBlock Text="{Binding Description}" 
                           FontSize="11" 
                           Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                           TextWrapping="Wrap" 
                           Margin="0,4,0,0" />
            </StackPanel>
        </Border>
    </DataTemplate>

    <!-- Chute Template -->
    <DataTemplate x:Key="ChuteTemplate">
        <Border Width="100" 
                Height="70" 
                Background="{Binding StatusColor, FallbackValue={StaticResource DefaultChuteColor}}"
                CornerRadius="12" 
                Padding="6" 
                Margin="6"
                Effect="{StaticResource CardDropShadowEffect}"
                Cursor="Hand">
            <Border.Style>
                <Style TargetType="Border">
                    <Setter Property="BorderBrush" Value="{StaticResource CardBorderColor}"/>
                    <Setter Property="BorderThickness" Value="1"/>
                    <Style.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="BorderBrush" Value="{DynamicResource SystemAccentColorLight1}"/>
                            <Setter Property="BorderThickness" Value="2"/>
                        </Trigger>
                        <DataTrigger Binding="{Binding IsTargetChute}" Value="True">
                            <Setter Property="BorderBrush" Value="{DynamicResource SystemAccentColorDark1}"/>
                            <Setter Property="BorderThickness" Value="2.5"/>
                            <Setter Property="Background">
                                <Setter.Value>
                                    <SolidColorBrush Color="{DynamicResource SystemAccentColor}" Opacity="0.2"/>
                                </Setter.Value>
                            </Setter>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding IsErrorState}" Value="True">
                            <Setter Property="BorderBrush" Value="{DynamicResource SystemFillColorCritical}"/>
                            <Setter Property="BorderThickness" Value="2.5"/>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </Border.Style>
            <Grid>
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                    <TextBlock Text="{Binding ChuteNumber}" 
                               FontSize="22" 
                               FontWeight="Bold"
                               HorizontalAlignment="Center" 
                               Foreground="#222" />
                    <TextBlock Text="{Binding Quantity, FallbackValue='0/0'}" 
                               FontSize="12"
                               HorizontalAlignment="Center" 
                               Foreground="#888" />
                </StackPanel>
            </Grid>
        </Border>
    </DataTemplate>

    <!-- Device Status Template -->
    <DataTemplate x:Key="DeviceStatusTemplate">
        <StackPanel Orientation="Horizontal" Margin="8,0">
            <ui:SymbolIcon Symbol="{Binding Icon}" 
                           FontSize="14" 
                           Margin="0,0,4,0"
                           Foreground="{Binding StatusColor}" />
            <TextBlock VerticalAlignment="Center" FontSize="12">
                <Run Text="{Binding Name, Mode=OneWay}"
                     Foreground="{DynamicResource TextFillColorSecondaryBrush}" />
                <Run Text=": " 
                     Foreground="{DynamicResource TextFillColorSecondaryBrush}" />
                <Run Text="{Binding Status, Mode=OneWay}" 
                     Foreground="{Binding StatusColor}" />
            </TextBlock>
        </StackPanel>
    </DataTemplate>

    <!-- Card Style -->
    <Style x:Key="InfoCardStyle" TargetType="Border">
        <Setter Property="BorderBrush" Value="{DynamicResource TextControlBorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="CornerRadius" Value="4"/>
        <Setter Property="Padding" Value="10"/>
        <Setter Property="Background" Value="{DynamicResource LayerFillColorDefaultBrush}"/>
        <Setter Property="Margin" Value="0,0,0,20"/>
    </Style>

    <!-- Section Header Style -->
    <Style x:Key="SectionHeaderStyle" TargetType="TextBlock">
        <Setter Property="Margin" Value="8,0,0,0"/>
        <Setter Property="FontSize" Value="16"/>
        <Setter Property="FontWeight" Value="SemiBold"/>
        <Setter Property="Foreground" Value="{DynamicResource AccentBrush}"/>
        <Setter Property="VerticalAlignment" Value="Center"/>
    </Style>

</ResourceDictionary> 