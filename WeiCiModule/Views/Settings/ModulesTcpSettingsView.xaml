<UserControl x:Class="WeiCiModule.Views.Settings.ModulesTcpSettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
             xmlns:prism="http://prismlibrary.com/"
             xmlns:viewModels="clr-namespace:WeiCiModule.ViewModels.Settings"
             mc:Ignorable="d"
             d:DataContext="{d:DesignInstance Type=viewModels:ModulesTcpSettingsViewModel}"
             prism:ViewModelLocator.AutoWireViewModel="True">
    <Grid>
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="16">
                <!-- Header -->
                <TextBlock Text="Module Belt TCP Settings" 
                           FontSize="20" 
                           FontWeight="SemiBold" 
                           Margin="0,0,0,20"
                           Foreground="{DynamicResource AccentBrush}"/>

                <!-- TCP Connection Settings -->
                <GroupBox Header="TCP Connection Settings" Margin="0,0,0,16">
                    <StackPanel Margin="8">
                        <!-- IP Address -->
                        <Grid Margin="0,0,0,16">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="IP Address:" VerticalAlignment="Center"/>
                            <ui:TextBox Grid.Column="1" 
                                        Text="{Binding Address, UpdateSourceTrigger=PropertyChanged}"
                                        PlaceholderText="192.168.1.100"/>
                        </Grid>

                        <!-- Port -->
                        <Grid Margin="0,0,0,16">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="Port:" VerticalAlignment="Center"/>
                            <ui:NumberBox Grid.Column="1" 
                                          Value="{Binding Port, UpdateSourceTrigger=PropertyChanged}"
                                          Minimum="1"
                                          Maximum="65535"/>
                        </Grid>
                    </StackPanel>
                </GroupBox>

                <!-- Timing Settings -->
                <GroupBox Header="Timing Settings" Margin="0,0,0,16">
                    <StackPanel Margin="8">
                        <!-- Min Wait Time -->
                        <Grid Margin="0,0,0,16">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="Min Wait Time:" VerticalAlignment="Center"/>
                            <ui:NumberBox Grid.Column="1" 
                                          Value="{Binding MinWaitTime, UpdateSourceTrigger=PropertyChanged}"
                                          Minimum="0"
                                          Maximum="10000"
                                          Margin="0,0,8,0"/>
                            <TextBlock Grid.Column="2" Text="ms" VerticalAlignment="Center"/>
                        </Grid>

                        <!-- Max Wait Time -->
                        <Grid Margin="0,0,0,16">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="Max Wait Time:" VerticalAlignment="Center"/>
                            <ui:NumberBox Grid.Column="1" 
                                          Value="{Binding MaxWaitTime, UpdateSourceTrigger=PropertyChanged}"
                                          Minimum="100"
                                          Maximum="30000"
                                          Margin="0,0,8,0"/>
                            <TextBlock Grid.Column="2" Text="ms" VerticalAlignment="Center"/>
                        </Grid>
                    </StackPanel>
                </GroupBox>

                <!-- Exception Handling -->
                <GroupBox Header="Exception Handling" Margin="0,0,0,16">
                    <StackPanel Margin="8">
                        <!-- Exception Chute -->
                        <Grid Margin="0,0,0,16">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="Timeout Chute:" VerticalAlignment="Center"/>
                            <ui:NumberBox Grid.Column="1" 
                                          Value="{Binding ExceptionChute, UpdateSourceTrigger=PropertyChanged}"
                                          Minimum="1"
                                          Maximum="999"/>
                        </Grid>

                        <!-- No Rule Chute -->
                        <Grid Margin="0,0,0,16">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="No Rule Chute:" VerticalAlignment="Center"/>
                            <ui:NumberBox Grid.Column="1" 
                                          Value="{Binding NoRuleChute, UpdateSourceTrigger=PropertyChanged}"
                                          Minimum="1"
                                          Maximum="999"/>
                        </Grid>
                    </StackPanel>
                </GroupBox>

                <!-- Action Buttons -->
                <StackPanel Orientation="Horizontal" 
                            HorizontalAlignment="Right"
                            Margin="0,24,0,0">
                    <ui:Button Content="Test Connection" 
                               Appearance="Secondary"
                               Command="{Binding TestConnectionCommand}"
                               Margin="0,0,8,0">
                        <ui:Button.Icon>
                            <ui:SymbolIcon Symbol="PlugConnected24"/>
                        </ui:Button.Icon>
                    </ui:Button>
                    <ui:Button Content="Reset to Default" 
                               Appearance="Secondary"
                               Command="{Binding ResetConfigurationCommand}"
                               Margin="0,0,8,0">
                        <ui:Button.Icon>
                            <ui:SymbolIcon Symbol="ArrowReset24"/>
                        </ui:Button.Icon>
                    </ui:Button>
                </StackPanel>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl> 