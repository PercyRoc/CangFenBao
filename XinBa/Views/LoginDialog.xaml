<ui:FluentWindow x:Class="Presentation_XinBa.Views.LoginDialog"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                 xmlns:hc="https://handyorg.github.io/handycontrol"
                 xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
                 xmlns:viewModels="clr-namespace:Presentation_XinBa.ViewModels"
                 mc:Ignorable="d"
                 d:DataContext="{d:DesignInstance Type=viewModels:LoginViewModel}"
                 Title="Employee Login"
                 Height="700"
                 Width="450"
                 WindowStartupLocation="CenterScreen"
                 ResizeMode="NoResize"
                 Background="{DynamicResource ApplicationBackgroundBrush}">

    <Window.Resources>
        <Style TargetType="TextBlock" BasedOn="{StaticResource {x:Type TextBlock}}">
            <Setter Property="Margin" Value="0,0,0,5" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Foreground" Value="{DynamicResource TextFillColorPrimaryBrush}" />
        </Style>

        <Style TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
            <Setter Property="Margin" Value="8" />
            <Setter Property="Padding" Value="20,8" />
            <Setter Property="MinWidth" Value="100" />
            <Setter Property="FontSize" Value="14" />
        </Style>
    </Window.Resources>

    <Border CornerRadius="8"
            Margin="10"
            Background="{DynamicResource ControlFillColorDefaultBrush}"
            BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
            BorderThickness="1"
            Effect="{DynamicResource DropShadowEffect}">
        <Grid Margin="25">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!-- Logo and Title -->
            <StackPanel Grid.Row="0"
                        HorizontalAlignment="Center"
                        Margin="0,0,0,20">
                <Image Source="/logo.ico"
                       Width="64"
                       Height="64"
                       Margin="0,0,0,15" />
                <TextBlock Text="Employee Login"
                           FontSize="24"
                           FontWeight="SemiBold"
                           HorizontalAlignment="Center" />
                <TextBlock Text="Please enter your employee ID and API credentials to continue"
                           FontSize="14"
                           Opacity="0.7"
                           HorizontalAlignment="Center"
                           TextWrapping="Wrap"
                           TextAlignment="Center"
                           Margin="0,5,0,0" />
            </StackPanel>

            <!-- Login Form -->
            <Border Grid.Row="1"
                    Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{DynamicResource ControlStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="6"
                    Padding="20"
                    Margin="0,10,0,20">
                <StackPanel>
                    <TextBlock Text="Employee ID:"
                               FontWeight="SemiBold" />
                    <hc:NumericUpDown Value="{Binding EmployeeId}"
                                      Minimum="1"
                                      Maximum="999999"
                                      FontSize="16"
                                      Height="35"
                                      Margin="0,5,0,15" />

                    <TextBlock Text="API Username:"
                               FontWeight="SemiBold" />
                    <TextBox Text="{Binding Username}"
                             FontSize="16"
                             Height="35"
                             Margin="0,5,0,15" />

                    <TextBlock Text="API Password:"
                               FontWeight="SemiBold" />
                    <PasswordBox x:Name="PasswordBox"
                                 FontSize="16"
                                 Height="35"
                                 Margin="0,5,0,15" />

                    <CheckBox Content="Remember credentials"
                              IsChecked="{Binding RememberCredentials}"
                              Margin="0,5,0,0" />
                </StackPanel>
            </Border>

            <!-- Login Info -->
            <TextBlock Grid.Row="2"
                       Text="Your credentials will be used to authenticate with the server"
                       Opacity="0.6"
                       FontSize="12"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,10" />

            <!-- Status Message -->
            <TextBlock Grid.Row="3"
                       Text="{Binding StatusMessage}"
                       Foreground="{StaticResource DangerBrush}"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       TextWrapping="Wrap" />

            <!-- Button Area -->
            <StackPanel Grid.Row="4"
                        Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        Margin="0,10,0,0">
                <Button Content="Login"
                        Command="{Binding LoginCommand}"
                        Style="{StaticResource ButtonPrimary}"
                        Height="40"
                        Width="120"
                        IsEnabled="{Binding IsLoggingIn, Converter={StaticResource Boolean2BooleanReConverter}}">
                    <Button.Effect>
                        <DropShadowEffect BlurRadius="5"
                                          ShadowDepth="1"
                                          Opacity="0.3" />
                    </Button.Effect>
                </Button>
                <Button Content="Cancel"
                        Command="{Binding CancelCommand}"
                        Height="40"
                        Width="120"
                        IsEnabled="{Binding IsLoggingIn, Converter={StaticResource Boolean2BooleanReConverter}}" />
            </StackPanel>
        </Grid>
    </Border>
</ui:FluentWindow>