<UserControl
    x:Class="FuzhouPolicyForce.Views.Settings.ShenTongLanShouSettingsView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:mvvm="http://prismlibrary.com/"
    xmlns:settings="clr-namespace:FuzhouPolicyForce.ViewModels.Settings"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    d:DataContext="{d:DesignInstance Type=settings:ShenTongLanShouSettingsViewModel}"
    mvvm:ViewModelLocator.AutoWireViewModel="True"
    mc:Ignorable="d">
    <Grid>
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <StackPanel Grid.Row="1" Grid.Column="1" Margin="20" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <ui:TextBlock Margin="0,0,0,10" FontSize="16" FontWeight="Bold" Text="申通仓库自动揽收接口设置" />
                    <ui:TextBlock Margin="0,0,0,15" FontSize="12" Foreground="Gray" TextWrapping="Wrap" Width="450"
                                  Text="申通仓客户出库自动揽收接口配置。条码以'7'开头的包裹将自动调用此接口进行揽收操作。" />
                    <StackPanel Margin="0,5" Orientation="Horizontal">
                        <ui:TextBlock Width="100" Text="API地址：" />
                        <ui:TextBox Width="350" Text="{Binding Config.ApiUrl, UpdateSourceTrigger=PropertyChanged}" />
                    </StackPanel>
                    <StackPanel Margin="0,5" Orientation="Horizontal">
                        <ui:TextBlock Width="100" Text="AppKey：" />
                        <ui:TextBox Width="350" Text="{Binding Config.FromAppKey, UpdateSourceTrigger=PropertyChanged}" />
                    </StackPanel>
                    <StackPanel Margin="0,5" Orientation="Horizontal">
                        <ui:TextBlock Width="100" Text="Code：" />
                        <ui:TextBox Width="350" Text="{Binding Config.FromCode, UpdateSourceTrigger=PropertyChanged}" />
                    </StackPanel>
                    <StackPanel Margin="0,5" Orientation="Horizontal">
                        <ui:TextBlock Width="100" Text="密钥：" />
                        <ui:TextBox Width="350" Text="{Binding Config.AppSecret, UpdateSourceTrigger=PropertyChanged}" />
                    </StackPanel>
                    <StackPanel Margin="0,5" Orientation="Horizontal">
                        <ui:TextBlock Width="100" Text="仓编码：" />
                        <ui:TextBox Width="350" Text="{Binding Config.WhCode, UpdateSourceTrigger=PropertyChanged}" />
                    </StackPanel>
                    <StackPanel Margin="0,5" Orientation="Horizontal">
                        <ui:TextBlock Width="100" Text="揽收网点编码：" />
                        <ui:TextBox Width="350" Text="{Binding Config.OrgCode, UpdateSourceTrigger=PropertyChanged}" />
                    </StackPanel>
                    <StackPanel Margin="0,5" Orientation="Horizontal">
                        <ui:TextBlock Width="100" Text="揽收员编码：" />
                        <ui:TextBox Width="350" Text="{Binding Config.UserCode, UpdateSourceTrigger=PropertyChanged}" />
                    </StackPanel>
                    
                    <!-- 测试功能 -->
                    <ui:TextBlock Margin="0,20,0,10" FontSize="14" FontWeight="Bold" Text="接口测试" />
                    <StackPanel Margin="0,5" Orientation="Horizontal">
                        <ui:TextBlock Width="100" Text="测试条码：" />
                        <ui:TextBox Width="250" Text="{Binding TestWaybillNo, UpdateSourceTrigger=PropertyChanged}" />
                        <ui:Button Margin="10,0,0,0" Content="发送测试" Command="{Binding TestCommand}" IsEnabled="{Binding IsTestEnabled}" />
                    </StackPanel>
                    <ui:TextBlock Margin="0,5" FontSize="12" Foreground="Gray" TextWrapping="Wrap" Width="450"
                                  Text="{Binding TestResult}" />
                    
                    <!-- 保存按钮 -->
                    <StackPanel Margin="0,20,0,0" HorizontalAlignment="Center">
                        <ui:Button Content="保存配置" Command="{Binding SaveCommand}" />
                    </StackPanel>
                </StackPanel>
            </Grid>
        </ScrollViewer>
    </Grid>
</UserControl>
