<?xml version="1.0" encoding="utf-8"?>
<UserControl x:Class="Sorting_Car.Views.CarConfigView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:prism="http://prismlibrary.com/"
             xmlns:lex="http://wpflocalizeextension.codeplex.com"
             xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml" 
             xmlns:viewModels1="clr-namespace:Sorting_Car.ViewModels"
             lex:LocalizeDictionary.DesignCulture="en"
             lex:ResxLocalizationProvider.DefaultAssembly="Sorting_Car"
             lex:ResxLocalizationProvider.DefaultDictionary="Resources.Strings"
             prism:ViewModelLocator.AutoWireViewModel="True"
             mc:Ignorable="d"
             d:DataContext="{d:DesignInstance viewModels1:CarConfigViewModel}">
    <Grid Margin="10">
        <StackPanel MaxWidth="800" HorizontalAlignment="Center">
            <TextBlock Text="{lex:Loc CarConfig_Title}"
                       Style="{DynamicResource SubtitleTextBlockStyle}"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,16" />

            <ui:Card Margin="0,0,0,16">
                <StackPanel Margin="16">
                    <DataGrid Style="{DynamicResource DefaultDataGridStyle}"
                              ColumnHeaderStyle="{DynamicResource DefaultDataGridColumnHeaderStyle}"
                              CellStyle="{DynamicResource DefaultDataGridCellStyle}"
                              RowStyle="{DynamicResource DefaultDataGridRowStyle}"
                              ItemsSource="{Binding CarConfigs}"
                              SelectedItem="{Binding SelectedCarConfig}"
                              AutoGenerateColumns="False"
                              CanUserAddRows="False"
                              CanUserDeleteRows="False"
                              IsReadOnly="False"
                              GridLinesVisibility="All"
                              Margin="0,0,0,10"
                              ColumnWidth="SizeToCells"
                              MinColumnWidth="40">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="{lex:Loc CarConfig_Name}" Binding="{Binding Name}" MinWidth="100" Width="SizeToCells"/>
                            <DataGridTextColumn Header="{lex:Loc CarConfig_Address}" Binding="{Binding Address}" MinWidth="100" Width="SizeToCells"/>
                            <DataGridTextColumn Header="{lex:Loc CarConfig_Speed}" Binding="{Binding Speed}" MinWidth="100" Width="SizeToCells"/>
                            <DataGridTextColumn Header="{lex:Loc CarConfig_Acceleration}" Binding="{Binding Acceleration}" MinWidth="100" Width="SizeToCells"/>
                            <DataGridTextColumn Header="{lex:Loc CarConfig_Delay}" Binding="{Binding Delay}" MinWidth="100" Width="SizeToCells"/>
                            <DataGridTextColumn Header="{lex:Loc CarConfig_Time}" Binding="{Binding Time}" MinWidth="120" Width="SizeToCells"/>
                            <DataGridTemplateColumn Width="Auto">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <ui:Button Content="{lex:Loc Common_Delete}"
                                                   Command="{Binding DataContext.DeleteCarConfigCommand,
                                                                  RelativeSource={RelativeSource AncestorType=DataGrid}}"
                                                   Margin="5"
                                                   Padding="5,2"
                                                   Appearance="Secondary"/>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                    </DataGrid>

                    <ui:Button Content="{lex:Loc CarConfig_AddCar}"
                               Command="{Binding AddCarConfigCommand}"
                               Margin="5"
                               Padding="10,5"
                               HorizontalAlignment="Left" />
                </StackPanel>
            </ui:Card>
        </StackPanel>
    </Grid>
</UserControl>